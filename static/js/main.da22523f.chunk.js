(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(t,e,n){},24:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){"use strict";n.r(e);var c=n(2),r=n.n(c),a=n(19),s=n.n(a),o=(n(24),n(3)),i=n.n(o),u=n(4),l=n(7),d=n(5),p=n.n(d),j=n(0),b=function(t){var e=t.title,n=t.content,c=t.id;return Object(j.jsxs)("div",{className:"post",id:c,children:[Object(j.jsx)("h2",{children:e}),Object(j.jsx)("p",{children:n}),Object(j.jsx)("button",{id:"delete-btn",children:"Delete"}),Object(j.jsx)("button",{id:"edit-btn",children:"Edit"})]})},f=(n(18),function(t){var e=t.addNewPost;return Object(j.jsx)("div",{className:"form post-form",children:Object(j.jsxs)("form",{onSubmit:function(t){return e(t)},children:[Object(j.jsx)("input",{type:"text",id:"title",name:"title",placeholder:"Post title"}),Object(j.jsx)("textarea",{id:"content",name:"content",placeholder:"Your content here..."}),Object(j.jsx)("button",{type:"submit",children:"Add Post!"})]})})}),h=n(6),x=n(9),v=function(t){var e=t.closeEdit,n=t.currentPost,c=t.setCurrentPost,r=t.url,a=n._id,s=n.title,o=n.content,l=function(t){c(Object(x.a)(Object(x.a)({},n),{},Object(h.a)({},t.target.id,t.target.value)))},d=function(){var t=Object(u.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),""!==s&&""!==o){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,p.a.patch("".concat(r,"/").concat(a),{title:s,content:o});case 6:e(),c(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),console.log(t.t0.message);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(j.jsx)("div",{className:"form edit-form",onSubmit:d,children:Object(j.jsxs)("form",{children:[Object(j.jsx)("input",{type:"text",id:"title",name:"title",value:s,placeholder:"Post title",onChange:l}),Object(j.jsx)("textarea",{id:"content",name:"content",placeholder:"Your content here...",value:o,onChange:l}),Object(j.jsx)("button",{type:"submit",children:"Edit Post!"}),Object(j.jsx)("button",{id:"close-edit",onClick:e,children:"Dismiss"})]})})};n(45);var m=function(){var t=Object(c.useState)([]),e=Object(l.a)(t,2),n=e[0],r=e[1],a=Object(c.useState)(!1),s=Object(l.a)(a,2),o=s[0],d=s[1],h=Object(c.useState)(),x=Object(l.a)(h,2),m=x[0],O=x[1],g="https://mern-app-stack-post.herokuapp.com";Object(c.useEffect)((function(){k()}),[n]);var k=function(){var t=Object(u.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get(g);case 3:e=t.sent,r(e.data),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.message);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(u.a)(i.a.mark((function t(e){var n,c,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.preventDefault(),n=document.getElementById("title"),c=document.getElementById("content"),n.value.trim()&&c.value.trim()){t.next=5;break}return t.abrupt("return");case 5:return t.prev=5,r={title:n.value.trim(),content:c.value.trim()},t.next=9,p.a.post(g,r);case 9:n.value="",c.value="",t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.log(t.t0.message);case 16:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}(),w=function(){var t=Object(u.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.delete("".concat(g,"/").concat(e.target.closest(".post").id));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0.message);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(e){return t.apply(this,arguments)}}(),P=function(){var t=Object(u.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:document.querySelector(".posts-container").classList.toggle("hidden"),d(!o);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Post Page"}),o?Object(j.jsx)(v,{closeEdit:P,currentPost:m,setCurrentPost:O,url:g}):Object(j.jsx)(f,{addNewPost:y}),Object(j.jsx)("div",{className:"posts-container",onClick:function(t){"delete-btn"===t.target.id&&w(t),"edit-btn"===t.target.id&&(P(),function(t){var e=t.target.closest(".post"),n=e.querySelector("h2").textContent,c=e.querySelector("p").textContent;O({_id:e.id,title:n,content:c})}(t))},children:n.length>0?n.map((function(t){return Object(j.jsx)(b,{title:t.title,content:t.content,id:t._id},t._id)})):Object(j.jsx)("p",{children:"No post available!"})})]})};s.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(m,{})}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.da22523f.chunk.js.map